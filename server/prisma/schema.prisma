generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

enum EyesColor {
  BLEU
  VERT
  MARRON
  NOIR
  GRIS
  VAIRONS
}

enum HairColor {
  BLOND
  MARRON
  NOIR
  ROUX
  GRIS
  CHAUVE
}

enum Gender {
  HOMME
  FEMME
  AUTRE
}

model User {
  id             Int              @id @default(autoincrement())
  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt
  email          String           @unique
  password       String
  firstName      String
  lastName       String
  model          Model?
  admin          Admin?
  Token          Token[]
  SubmitProfile  SubmitProfile[]
  Authentication Authentication[]
}

model Admin {
  id          Int  @id @default(autoincrement())
  accessLevel Int
  user        User @relation(fields: [userId], references: [id])
  userId      Int  @unique
}

model Model {
  id               Int                @id @default(autoincrement())
  birthDate        DateTime           @db.Date
  description      String?            @db.Text
  eyescolor        EyesColor
  haircolor        HairColor
  gender           Gender
  height           Int
  weight           Int
  otherPhotos      Photo[]            @relation("ModelToOtherPhotos")
  profilePicture   Photo?             @relation(fields: [profilePictureId], references: [id])
  profilePictureId Int?
  pastExperience   PastExperience[]
  user             User               @relation(fields: [userId], references: [id])
  userId           Int                @unique
  Address          Address[]
  SubmitToProfiles SubmitToProfiles[]
}

model Authentication {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  email     String
  password  String
  User      User     @relation(fields: [userId], references: [id])
  userId    Int      @unique
}

model Photo {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  url       String
  model     Model    @relation("ModelToOtherPhotos", fields: [modelId], references: [id])
  modelId   Int
  Model     Model[]
}

model PastExperience {
  id          Int      @id @default(autoincrement())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  description String   @db.Text
  model       Model    @relation(fields: [modelId], references: [id])
  modelId     Int
}

model SubmitProfile {
  id               Int                @id @default(autoincrement())
  createdAt        DateTime           @default(now())
  updatedAt        DateTime           @updatedAt
  phone            String
  birthDate        DateTime
  firstName        String
  lastName         String
  eyescolor        EyesColor
  haircolor        HairColor
  photo            String
  pastExperiences  String
  Address          Address[]
  SubmitToProfiles SubmitToProfiles[]
  user             User?              @relation(fields: [userId], references: [id])
  userId           Int?
}

model Address {
  id              Int            @id @default(autoincrement())
  createdAt       DateTime       @default(now())
  updatedAt       DateTime       @updatedAt
  number          String
  street          String
  city            String
  zip             String
  country         String
  model           Model?         @relation(fields: [modelId], references: [id])
  modelId         Int?
  submitProfile   SubmitProfile? @relation(fields: [submitProfileId], references: [id])
  submitProfileId Int?
}

model SubmitToProfiles {
  id              Int           @id @default(autoincrement())
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  submitProfile   SubmitProfile @relation(fields: [submitProfileId], references: [id])
  submitProfileId Int
  model           Model         @relation(fields: [modelId], references: [id])
  modelId         Int
}

model Token {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  token     String
  user      User     @relation(fields: [userId], references: [id])
  userId    Int
}
